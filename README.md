# 2Factor SMS Service POC for OTPs

The service was working according to expectations. It provides an multiple APIs(GET) for different approaches for sending OTPs.

### Key Points:

- It charges only if the message is delivered.
- It offers a templating system. It needs be approved before being used.
- It is a prepaid service. It has number of plans which can be discussed with the support team.
- Promises sms-delivery in 4-6 seconds.
- Apart from OTPs, it can be used for **Promotional** and **Transactional** sms also.

2Factor provides multiple options while sending OTPs.

- System Generated (Auto Generated by 2Factor)
- Custom Generated

## System Generated

- There are 2 options for the size of OTP:
  - 4-digit
  - 6-digit
    There are different URLs for the above options.
- Upon successful sending, it sends a response with {Status: "Success", Details: "{{sessionID}}"}
- It provides verification facility, which can be used to get verification by the service itself.

## Custom Generated

- Here, the BE can send 4-6 digit of OTP.
- It needs to be verified manually.
- Upon successful sending, it sends a response with {Status: "Success", Details: "{{sessionID}}"}

## Verification

- For System Generated / Auto Generated OTPs, the service provides verification solution.
- It provides and endpoint(GET), where the verification can be done in two ways:
  - session ID
  - phone number

## Testing

I've created 3 endpoints for testing (Only Indian Numbers: +91):

- "/send-custom-otp" (POST) : It takes "mobile number" as input. JSON : {"phone":"{{phone_number}}"}
- "/send-autogen-otp" (POST): It takes "mobile number" as input. JSON : {"phone":"{{phone_number}}"}
- "/verify-otp" (POST): It takes 4 parameters:
  - method : "phone" || "sessionid"
  - otp : "{{otp_received}}"
  - phone : "{{phone}}" Mobile Number in case of method as "phone"
  - sessionid : "{{sessionid}}" Session ID in case of method as "sessionid"
  - E.g JSON : {
    "method":"sessionid",
    "otp":"5422",
    "phone":"9999988888",
    "sessionid":"bf9d4e79-f539-11ed-addf-0200cd936042"
    }
